<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Study Motivation Generator</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #121212;
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      padding: 20px;
    }

    h2 { margin-bottom: 10px; color: #ddd; text-align: center; }

    canvas {
      max-width: 100%;
      height: auto;
      max-height: 80vh;
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.7);
      margin-bottom: 20px;
      border: 1px solid #333;
    }

    .controls {
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
      justify-content: center;
      background: #1e1e1e;
      padding: 15px;
      border-radius: 12px;
      width: 100%;
      max-width: 800px;
      margin-bottom: 20px;
    }

    button {
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      font-size: 16px;
      transition: 0.3s;
    }

    .btn-gen { background: #e63946; color: white; }
    .btn-gen:hover { background: #d62839; }

    .btn-dl { background: #457b9d; color: white; }
    .btn-dl:hover { background: #1d3557; }

    .btn-copy { background: #2a9d8f; color: white; }
    .btn-copy:hover { background: #21867a; }

    /* Caption Box Styles */
    .caption-box {
      background: #1e1e1e;
      padding: 20px;
      border-radius: 12px;
      width: 100%;
      max-width: 800px;
      border: 1px solid #333;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .caption-header {
      font-size: 18px;
      color: #aaa;
      margin-bottom: 5px;
      border-bottom: 1px solid #333;
      padding-bottom: 10px;
    }

    textarea {
      width: 100%;
      height: 220px;
      background: #2b2b2b;
      color: #e0e0e0;
      border: 1px solid #444;
      border-radius: 8px;
      padding: 10px;
      font-family: monospace;
      font-size: 14px;
      resize: vertical;
      box-sizing: border-box;
    }

    textarea:focus { outline: 2px solid #457b9d; }
  </style>
</head>
<body>

  <h2>IELTS/PTE Success Quote Generator</h2>
  <canvas id="flashcard" width="1080" height="1080"></canvas>

  <div class="controls">
    <button class="btn-gen" onclick="generateFlashcard()">üîÑ Random Quote</button>
    <button class="btn-dl" onclick="downloadFlashcard()">‚¨áÔ∏è Download Image</button>
  </div>

  <div class="caption-box">
    <div class="caption-header">
      üìù Social Media Caption
    </div>
    <textarea id="captionText" readonly></textarea>
    <button class="btn-copy" onclick="copyCaption()">üìã Copy Caption</button>
  </div>

  <script>
    const canvas = document.getElementById("flashcard");
    const ctx = canvas.getContext("2d");

    // --- ASSETS ---
    const logoUrl = "https://gen.eptonline.org/logo.png";
    const fbLogo = "https://gen.eptonline.org/facebook.png";
    const ytLogo = "https://gen.eptonline.org/youtube.png";
    const instaLogo = "https://gen.eptonline.org/instagram.png"; 
    const webLogoUrl = "https://gen.eptonline.org/www.png";

    // --- DATA: Success Quotes ---
    const quotes = [
      { 
        en: "The difference between a Band 6 and a Band 8 is not just knowledge; it's consistency. Keep practicing!", 
        bn: "(‡¶¨‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶° ‡ß¨ ‡¶è‡¶¨‡¶Ç ‡¶¨‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶° ‡ßÆ ‡¶è‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶™‡¶æ‡¶∞‡ßç‡¶•‡¶ï‡ßç‡¶Ø ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶ú‡ßç‡¶û‡¶æ‡¶® ‡¶®‡¶Ø‡¶º, ‡¶¨‡¶∞‡¶Ç ‡¶®‡¶ø‡¶Ø‡¶º‡¶Æ‡¶ø‡¶§ ‡¶Ö‡¶®‡ßÅ‡¶∂‡ßÄ‡¶≤‡¶®‡•§ ‡¶ö‡¶∞‡ßç‡¶ö‡¶æ ‡¶ö‡¶æ‡¶≤‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶®!)" 
      },
      { 
        en: "Your scores do not define your intelligence, but your preparation defines your future. Give it your best shot!", 
        bn: "(‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡ßç‡¶ï‡ßã‡¶∞ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßÅ‡¶¶‡ßç‡¶ß‡¶ø‡¶Æ‡¶§‡ßç‡¶§‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶ß‡¶æ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßá ‡¶®‡¶æ, ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡ßÅ‡¶§‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶≠‡¶¨‡¶ø‡¶∑‡ßç‡¶Ø‡ßé ‡¶®‡¶ø‡¶∞‡ßç‡¶ß‡¶æ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßá‡•§ ‡¶®‡¶ø‡¶ú‡ßá‡¶∞ ‡¶∏‡ßá‡¶∞‡¶æ‡¶ü‡¶æ ‡¶¶‡¶ø‡¶®!)" 
      },
      { 
        en: "English is not a barrier; it‚Äôs a bridge to your global dreams. Cross it with confidence.", 
        bn: "(‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø ‡¶ï‡ßã‡¶®‡ßã ‡¶¨‡¶æ‡¶ß‡¶æ ‡¶®‡¶Ø‡¶º; ‡¶è‡¶ü‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ü‡¶®‡ßç‡¶§‡¶∞‡ßç‡¶ú‡¶æ‡¶§‡¶ø‡¶ï ‡¶∏‡ßç‡¶¨‡¶™‡ßç‡¶®‡ßá‡¶∞ ‡¶∏‡ßá‡¶§‡ßÅ‡•§ ‡¶Ü‡¶§‡ßç‡¶Æ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶æ‡¶∏‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶è‡¶ü‡¶ø ‡¶™‡¶æ‡¶∞ ‡¶π‡ßã‡¶®‡•§)" 
      },
      { 
        en: "Don‚Äôt practice until you get it right. Practice until you can‚Äôt get it wrong.", 
        bn: "(‡¶§‡¶§‡¶ï‡ßç‡¶∑‡¶£ ‡¶™‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ü‡¶ø‡¶∏ ‡¶ï‡¶∞‡¶¨‡ßá‡¶® ‡¶®‡¶æ ‡¶Ø‡¶§‡¶ï‡ßç‡¶∑‡¶£ ‡¶∏‡ßá‡¶ü‡¶ø ‡¶∏‡¶†‡¶ø‡¶ï ‡¶π‡¶Ø‡¶º; ‡¶§‡¶§‡¶ï‡ßç‡¶∑‡¶£ ‡¶™‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ü‡¶ø‡¶∏ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶Ø‡¶§‡¶ï‡ßç‡¶∑‡¶£ ‡¶®‡¶æ ‡¶∏‡ßá‡¶ü‡¶ø ‡¶≠‡ßÅ‡¶≤ ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ö‡¶∏‡¶Æ‡ßç‡¶≠‡¶¨ ‡¶π‡¶Ø‡¶º‡ßá ‡¶¶‡¶æ‡¶Å‡¶°‡¶º‡¶æ‡¶Ø‡¶º‡•§)" 
      },
      { 
        en: "The best way to predict your IELTS/PTE result is to create it through daily hard work.", 
        bn: "(‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∞‡ßá‡¶ú‡¶æ‡¶≤‡ßç‡¶ü ‡¶ï‡ßá‡¶Æ‡¶® ‡¶π‡¶¨‡ßá ‡¶§‡¶æ ‡¶¨‡ßã‡¶ù‡¶æ‡¶∞ ‡¶∏‡ßá‡¶∞‡¶æ ‡¶â‡¶™‡¶æ‡¶Ø‡¶º ‡¶π‡¶≤‡ßã ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶¶‡¶ø‡¶® ‡¶ï‡¶†‡ßã‡¶∞ ‡¶™‡¶∞‡¶ø‡¶∂‡ßç‡¶∞‡¶Æ‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶§‡¶æ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ‡•§)" 
      },
      { 
        en: "A difficult Reading passage or a complex Speaking topic is just another step closer to your dream university.", 
        bn: "(‡¶è‡¶ï‡¶ü‡¶ø ‡¶ï‡¶†‡¶ø‡¶® ‡¶∞‡¶ø‡¶°‡¶ø‡¶Ç ‡¶™‡ßç‡¶Ø‡¶æ‡¶∏‡ßá‡¶ú ‡¶¨‡¶æ ‡¶ú‡¶ü‡¶ø‡¶≤ ‡¶∏‡ßç‡¶™‡¶ø‡¶ï‡¶ø‡¶Ç ‡¶ü‡¶™‡¶ø‡¶ï ‡¶Æ‡¶æ‡¶®‡ßá‡¶á ‡¶π‡¶≤‡ßã ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡ßç‡¶¨‡¶™‡ßç‡¶®‡ßá‡¶∞ ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶æ‡¶≤‡¶Ø‡¶º‡ßá‡¶∞ ‡¶Ü‡¶∞‡¶ì ‡¶è‡¶ï‡¶ß‡¶æ‡¶™ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶Ø‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡•§)" 
      },
      { 
        en: "Success in TOEFL/DET isn't about being perfect; it's about being prepared.", 
        bn: "(‡¶∏‡¶æ‡¶´‡¶≤‡ßç‡¶Ø ‡¶Æ‡¶æ‡¶®‡ßá‡¶á ‡¶®‡¶ø‡¶ñ‡ßÅ‡¶Å‡¶§ ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ ‡¶®‡¶Ø‡¶º; ‡¶¨‡¶∞‡¶Ç ‡¶™‡ßÅ‡¶∞‡ßã‡¶™‡ßÅ‡¶∞‡¶ø ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡ßÅ‡¶§ ‡¶•‡¶æ‡¶ï‡¶æ‡•§)" 
      },
      { 
        en: "Mistakes are proof that you are trying. Every wrong answer is a lesson learned for the main exam.", 
        bn: "(‡¶≠‡ßÅ‡¶≤ ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Æ‡¶æ‡¶®‡ßá‡¶á ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡¶õ‡ßá‡¶®‡•§ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶≠‡ßÅ‡¶≤ ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶Æ‡ßÇ‡¶≤ ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡¶°‡¶º ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡•§)" 
      },
      { 
        en: "Stop worrying about the score and start falling in love with the language. The score will follow.", 
        bn: "(‡¶∏‡ßç‡¶ï‡ßã‡¶∞ ‡¶®‡¶ø‡¶Ø‡¶º‡ßá ‡¶¶‡ßÅ‡¶∂‡ßç‡¶ö‡¶ø‡¶®‡ßç‡¶§‡¶æ ‡¶¨‡¶æ‡¶¶ ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶≠‡¶æ‡¶∑‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡ßá‡¶Æ‡ßá ‡¶™‡¶°‡¶º‡ßÅ‡¶®‡•§ ‡¶≠‡¶æ‡¶≤‡ßã ‡¶∏‡ßç‡¶ï‡ßã‡¶∞ ‡¶è‡¶Æ‡¶®‡¶ø‡¶§‡ßá‡¶á ‡¶Ü‡¶∏‡¶¨‡ßá‡•§)" 
      },
      { 
        en: "Believe you can, and you're halfway there. Your desired score is waiting for you!", 
        bn: "(‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶æ‡¶∏ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶Ü‡¶™‡¶®‡¶ø ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®, ‡¶§‡¶æ‡¶π‡¶≤‡ßá ‡¶Ö‡¶∞‡ßç‡¶ß‡ßá‡¶ï ‡¶™‡¶• ‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶Æ‡¶®‡¶ø‡¶§‡ßá‡¶á ‡¶™‡¶æ‡¶°‡¶º‡¶ø ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶´‡ßá‡¶≤‡ßá‡¶õ‡ßá‡¶®‡•§ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶ô‡ßç‡¶ï‡ßç‡¶∑‡¶ø‡¶§ ‡¶∏‡ßç‡¶ï‡ßã‡¶∞ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ‡¶Ø‡¶º!)" 
      }
    ];

    // --- DATA: Hashtags ---
    const requiredTags = ["#eptonline", "#English", "#Motivation", "#StudyAbroad"];
    const examTags = ["#IELTS", "#TOEFL", "#DET", "#PTE", "#DuolingoEnglishTest", "#IELTSPreparation"];
    const engagementTags = ["#DailyInspiration", "#LearnEnglish", "#DreamBig", "#SuccessQuotes"];

    let currentQuote = null;

    function getRandomColor() {
      // Keeping the yellowish theme from original code
      const colors = ["#faf339", "#f4e04d", "#f9eb28"];
      return colors[Math.floor(Math.random() * colors.length)];
    }

    async function loadImage(url) {
      return new Promise((resolve, reject) => {
        const img = new Image();
        img.crossOrigin = "anonymous";
        img.onload = () => resolve(img);
        img.onerror = () => {
            console.warn("Failed to load image:", url);
            resolve(null);
        };
        img.src = url;
      });
    }

    // --- TEXT WRAPPING HELPER ---
    function wrapText(context, text, x, y, maxWidth, lineHeight) {
        var words = text.split(' ');
        var line = '';
        var startY = y;

        for(var n = 0; n < words.length; n++) {
          var testLine = line + words[n] + ' ';
          var metrics = context.measureText(testLine);
          var testWidth = metrics.width;
          if (testWidth > maxWidth && n > 0) {
            context.fillText(line, x, y);
            line = words[n] + ' ';
            y += lineHeight;
          } else {
            line = testLine;
          }
        }
        context.fillText(line, x, y);
        return y + lineHeight; // Return final Y coordinate
    }

    // --- CAPTION GENERATOR ---
    function generateCaptionText(quote) {
        let text = `üöÄ IELTS, TOEFL, PTE & DET Success Quotes üöÄ\n\n`;
        text += `"${quote.en}"\n`;
        text += `${quote.bn}\n\n`;
        
        text += `‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Ø ‡¶ï‡¶§ ‡¶∏‡ßç‡¶ï‡ßã‡¶∞ ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ? ‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá ‡¶ú‡¶æ‡¶®‡¶æ‡¶®! üëá\n\n`;
        
        text += `Practice more at: https://eptonline.org\n`;
        text += `Follow us for daily updates:\n`;
        text += `üåê Website: https://eptonline.org\n`;
        text += `üìò Facebook: https://www.facebook.com/eptonline.org\n`;
        text += `üì∏ Instagram: https://www.instagram.com/eptonline_org\n`;
        text += `üì∫ YouTube: https://www.youtube.com/@eptonlineOrg\n\n`;

        // Hashtags
        let tags = [...requiredTags];
        const shuffledExams = examTags.sort(() => 0.5 - Math.random());
        tags.push(...shuffledExams.slice(0, 4));
        const shuffledEngage = engagementTags.sort(() => 0.5 - Math.random());
        tags.push(...shuffledEngage.slice(0, 2));

        text += tags.join(" ");
        return text;
    }

    function copyCaption() {
        const copyText = document.getElementById("captionText");
        copyText.select();
        copyText.setSelectionRange(0, 99999);
        navigator.clipboard.writeText(copyText.value);
        
        const btn = document.querySelector('.btn-copy');
        const originalText = btn.innerText;
        btn.innerText = "‚úÖ Copied!";
        btn.style.background = "#21867a";
        setTimeout(() => {
            btn.innerText = originalText;
            btn.style.background = "#2a9d8f";
        }, 2000);
    }

    async function generateFlashcard() {
      if (!currentQuote || (event && event.type === 'click' && (event.target.classList.contains('btn-gen') || event.target.innerText.includes('Random')))) {
          currentQuote = quotes[Math.floor(Math.random() * quotes.length)];
          const caption = generateCaptionText(currentQuote);
          document.getElementById('captionText').value = caption;
      }

      const q = currentQuote;

      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // --- Background ---
      const color1 = getRandomColor();
      const color2 = "#c76e08"; 
      const gradient = ctx.createLinearGradient(0, 0, 0, 1080);
      gradient.addColorStop(0, color1);
      gradient.addColorStop(1, color2);
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      // --- Header Logo ---
      const logo = await loadImage(logoUrl);
      if(logo) ctx.drawImage(logo, canvas.width / 2 - 60, 50, 120, 120);

      // --- Header Title ---
      ctx.fillStyle = "#0a0a0a";
      ctx.font = "bold 40px 'Segoe UI'";
      ctx.textAlign = "center";
      ctx.fillText("DAILY MOTIVATION", canvas.width / 2, 220);
      
      ctx.fillStyle = "#615c56";
      ctx.font = "italic 30px 'Segoe UI'";
      ctx.fillText("(Study Consistency)", canvas.width / 2, 270);

      // --- The Quote (English) ---
      ctx.fillStyle = "#ffffff";
      ctx.textAlign = "center";
      ctx.shadowColor = "rgba(0,0,0,0.5)";
      ctx.shadowBlur = 10;
      
      // Dynamic Font sizing for English
      ctx.font = "bold 60px 'Arial'"; 
      let startY = 400;
      let lastY = wrapText(ctx, `"${q.en}"`, canvas.width / 2, startY, 900, 80);
      
      ctx.shadowBlur = 0; 

      // --- The Quote (Bengali) ---
      // We start slightly below where English text ended
      ctx.fillStyle = "#f0f0f0";
      ctx.font = "italic 40px 'Segoe UI', 'Arial'";
      
      // Draw a divider line
      ctx.strokeStyle = "rgba(255,255,255,0.5)";
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(340, lastY + 20);
      ctx.lineTo(740, lastY + 20);
      ctx.stroke();

      wrapText(ctx, q.bn, canvas.width / 2, lastY + 80, 850, 60);

      // --- Footer ---
      ctx.fillStyle = "#0a0a0a";
      ctx.font = "15px Arial";
      ctx.textAlign = "left";
      ctx.fillText("Practice More:", 70, 1020);
      
      const fb = await loadImage(fbLogo);
      const insta = await loadImage(instaLogo);
      const yt = await loadImage(ytLogo);
      const webIcon = await loadImage(webLogoUrl);
      
      // 1. Website Link (Bottom Left)
      if (webIcon) {
          ctx.drawImage(webIcon, 50, 1020, 24, 24); 
          ctx.font = "bold 20px Arial";
          ctx.fillStyle = "white"; 
          ctx.textAlign = "left";
          ctx.fillText("eptonline.org", 80, 1040); 
      }
      
      // 2. Facebook
      if(fb) {
          ctx.drawImage(fb, 880, 990, 18, 18);
          ctx.font = "bold 16px Arial"; 
          ctx.fillStyle = "white"; 
          ctx.fillText("@eptonline.org", 905, 1005); 
      }

      // 3. Instagram
      if(insta) {
          ctx.drawImage(insta, 880, 1014, 18, 18);
          ctx.font = "bold 16px Arial"; 
          ctx.fillStyle = "white"; 
          ctx.fillText("@eptonline_org", 905, 1029);
      }

      // 4. YouTube
      if(yt) {
          ctx.drawImage(yt, 880, 1038, 18, 18);
          ctx.font = "bold 16px Arial"; 
          ctx.fillStyle = "white"; 
          ctx.fillText("@eptonlineOrg", 905, 1053);
      }
    }

    function downloadFlashcard() {
      const link = document.createElement("a");
      link.download = `Motivation_Quote_${Date.now()}.png`;
      link.href = canvas.toDataURL("image/png");
      link.click();
    }

    // Initialize
    window.onload = function() {
        document.querySelector('.btn-gen').click();
    };
  </script>
</body>
</html>
